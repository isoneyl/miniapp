<properties>    <property name="chatMsgMapping">        <![CDATA[            {                "settings":{                    "number_of_shards":1,                    "number_of_replicas":1,                    "index.refresh_interval":"5s"                },                "mappings":{                        "properties":{                            "context":{                                "type":"text"                            },                            "msgType":{                                "type":"long"                            },                            "fileId":{                                "type":"long"                            },                            "sendId":{                                "type":"long"                            },                            "sendTime":{                                "type":"long"                            },                            "projectId":{                                "type":"long"                            },                            "fileName":{                                "type":"keyword"                            },                            "fileType":{                                "type":"keyword"                            },                            "rfsId":{                                "type":"keyword"                            },                            "chatText":{                                "type":"text"                            },                            "paperId":{                                "type":"long"                            },                            "docType":{                                "type":"long"                            },                            "orgId":{                                "type":"long"                            }                        }                }            }        ]]>    </property>    <!--通用的排序、高亮、分页 -->    <property name="publicDsl">        <![CDATA[            #if($pageNum && $pageSize)            "from": #[pageNum],            "size": #[pageSize],            #end            #if($sortName && $sortType) ##排序            "sort": [                {                   "$sortName": {                      "order": "$sortType"                    }                }            ],            #end            "highlight": {                "fields": {                    "chatText": {                        "pre_tags" : ["<font style='color:red;'>"],                        "post_tags" : ["</font>"]                    }                }            },        ]]>    </property>    <property name="searchChatMsg">        <![CDATA[            {            @{publicDsl} ##引用DSL              #if($source)              "_source": "{}",              #end              "query": {                "bool": {                  "must": [                    #if($projectId)                    {                      "term": {                        "projectId": {                          "value": #[projectId]                        }                      }                    },                    #end                    #if($chatText)                    {                      "match": {                        "chatText": #[chatText]                      }                    },                    #end                    #if(!($fileSource) && $fileId)                    {                      "term": {                        "fileId": {                          "value": #[fileId]                        }                      }                    },                    #end                    #if($fileSource)                    {                      "term": {                        "paperId": {                          "value": #[fileId]                        }                      }                    },                    #end                    #if($docType)                    {                      "term": {                        "docType": {                          "value": #[docType]                        }                      }                    },                    #end                    #if($msgType)                    {                      "term": {                        "msgType": {                          "value": #[msgType]                        }                      }                    },                    #end                    {                      "term": {                        "orgId": {                          "value": #[orgId]                        }                      }                    }                  ]                }              }            }        ]]>    </property>    <property name="queryFileIdByScrllId">        <![CDATA[        {            "query":{                "bool":{                    "must":[                        {                            "term":{                                "projectId":{                                    "value":#[projectId]                                }                            }                        },                        #if($msgType)                        {                            "term":{                                "msgType":{                                    "value":#[msgType]                                }                            }                        },                        #end                        #if($docType)                        {                            "term":{                                "docType":{                                    "value":#[docType]                                }                            }                        },                        #end                        #if($orgId)                        {                            "term":{                                "orgId":{                                    "value":#[orgId]                                }                            }                        }                        #end                    ]                }            }        }        ]]>    </property></properties>